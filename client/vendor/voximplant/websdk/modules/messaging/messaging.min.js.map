{"version":3,"file":"messaging.min.js","sources":["../../../src/modules/messaging/typings/MsgAction.ts","../../../src/modules/messaging/typings/MsgErrors.ts","../../../src/modules/messaging/typings/MsgSignalingEvents.ts","../../../src/utils/events/SDKError.ts","../../../src/utils/uuid.ts","../../../src/utils/capitalize.ts","../../../src/utils/events/makeEvent.ts","../../../src/modules/messaging/MsgEvent.ts","../../../src/modules/messaging/MessagingConst.ts","../../../src/modules/messaging/MessagingSignaling.ts","../../../src/utils/snakeToCamel.ts","../../../src/utils/decorators/DebounceDecorator.ts","../../../src/modules/messaging/Message.ts","../../../src/utils/events/makeEventBus.ts","../../../src/modules/messaging/Conversation.ts","../../../src/modules/messaging/Messaging.ts","../../../src/utils/extractUserName.ts","../../../src/modules/messaging/MessagingLoader.ts"],"sourcesContent":[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],"names":["MsgAction","MsgErrors","error_0","code","description","error_1","error_2","error_3","error_8","error_10","error_11","error_12","error_13","error_15","error_16","error_18","error_19","error_21","error_22","error_23","error_24","error_25","error_26","error_28","error_30","error_32","error_33","error_34","error_35","error_36","error_37","error_38","error_39","error_40","error_41","error_42","error_43","error_201","error_500","MsgSignalingEvents","SDKError","Error","[object Object]","message","super","this","_gri","x","NaN","Math","random","_ha","num","length","str","toString","i","z","capitalize","toUpperCase","slice","makeEvent","name","MessageReceived","EditConversation","UsersAdded","UsersRemoved","MessagingConstants","conversationList","Map","messagingCore","getConversationList","uuid","get","setConversationList","conversation","set","getCore","registerMessaging","incomingEvent","Object","values","includes","event","promiseEvt","awaitPromiseList","request_uuid","handler","ev","reject","delete","global","clearTimeout","expire","error","payload","massEventsUuidList","successEvt","transformedEvent","promiseHandler","type","Events.MessageReceived","dispatchEvent","resolve","transformData","_onSendMessage","Events.EditConversation","_onEditConversation","data","requestUuid","Array","isArray","map","object","msgEvent","initiator","messengerAction","on_incoming_event","timestamp","payloadTransformer","type/vox.store.CallbackNamespace.UserData","entity","transformer","transformPayload","type/vox.store.CallbackNamespace.Conversation","type/vox.store.CallbackNamespace.Message","type/vox.store.CommonNamespace.PresenceMessage","online","lastSeq","seq","key","value","entries","split","reduce","newString","word","index","debounceMassEvents","func","massIncomingEvents","debouncedFunction","fn","time","debounceTimer","args","setTimeout","apply","debounceFunction","push","createRequest","remoteFunction","massEvents","getUsers","onGetUser","getConversations","onGetConversation","getPublicConversations","onGetPublicConversations","retransmitEvents","onRetransmitEvents","isMassEvent","has","sendRequest","Promise","action","TMP","joinConversation","editConversation","typeNamespace","crypto","randomUUID","rawTemplate","service","assign","@type","setStatus","isRead","typingMessage","subscribe","unsubscribe","addParticipants","editParticipants","manageNotification","send","toGW","Message","text","sender","updatedMsgEvent","editMessage","_update","removeMessage","makeEventBus","allowedEvents","listeners","checkIsEventAllowed","some","evt","removeEventListener","listener","filter","el","addEventListener","options","listenerName","signal","onabort","once","fulfilled","eventName","forEach","eventListener","Conversation","fields","params","customData","direct","participants","enablePublicJoin","title","uberConversation","createdAt","lastUpdate","_serializeParticipants","p","flags","enable_public_join","uber_conversation","custom_data","target","timeStamp","Date","now","participantsId","user","user_id","newParticipants","usersId","userId","_getUserPermissions","last_read","lastRead","permissions","isOwner","canRemoveAll","canEditAll","canManageParticipants","canRemove","canEdit","canWrite","flag","join","parseInt","eventsTo","count","events_to","every","sendMessage","getMe","username","indexOf","userParts","splice","extractUserName","getUser","user_name","updateConversationsMap","conversationEvent","currentConversation","Messaging","getMyId","then","e","getUserById","getUsersById","userIds","users","editUser","privateCustomData","private_custom_data","createConversation","async","conversationParams","newConversation","_serializeToPayload","getConversation","conversations","newConversations","publicConversations","version","major","minor","rev","setup","core","setCore","registerModule","dependencies"],"mappings":"uFAAA,IAAKA,GAAL,SAAKA,GACHA,0CACAA,sCACAA,0CACAA,sCACAA,wCACAA,oCACAA,sCACAA,kDACAA,4CACAA,oDACAA,oCACAA,sCACAA,0CACAA,oBACAA,sBACAA,sBACAA,wBACAA,4BACAA,4BACAA,gCACAA,gCACAA,kBACAA,wBACAA,4BACAA,0CACAA,4CACAA,wBACAA,wBACAA,sCACAA,oBA9BF,CAAKA,IAAAA,OCAL,MAAMC,EAKF,CACFC,QAAS,CACPC,KAAM,EACNC,YAAa,yEAEfC,QAAS,CACPF,KAAM,EACNC,YAAa,sDAEfE,QAAS,CACPH,KAAM,EACNC,YAAa,0BAEfG,QAAS,CACPJ,KAAM,EACNC,YAAa,oCAEfI,QAAS,CACPL,KAAM,EACNC,YAAa,gCAEfK,SAAU,CACRN,KAAM,GACNC,YAAa,8DAEfM,SAAU,CACRP,KAAM,GACNC,YAAa,4DAEfO,SAAU,CACRR,KAAM,GACNC,YAAa,cAEfQ,SAAU,CACRT,KAAM,GACNC,YAAa,6CAEfS,SAAU,CACRV,KAAM,GACNC,YAAa,uDAEfU,SAAU,CACRX,KAAM,GACNC,YAAa,2CAEfW,SAAU,CACRZ,KAAM,GACNC,YAAa,0BAEfY,SAAU,CACRb,KAAM,GACNC,YAAa,yCAEfa,SAAU,CACRd,KAAM,GACNC,YAAa,2EAEfc,SAAU,CACRf,KAAM,GACNC,YAAa,sEAEfe,SAAU,CACRhB,KAAM,GACNC,YAAa,mDAEfgB,SAAU,CACRjB,KAAM,GACNC,YAAa,iEAEfiB,SAAU,CACRlB,KAAM,GACNC,YAAa,sBAEfkB,SAAU,CACRnB,KAAM,GACNC,YAAa,wCAEfmB,SAAU,CACRpB,KAAM,GACNC,YAAa,gEAEfoB,SAAU,CACRrB,KAAM,GACNC,YAAa,iEAEfqB,SAAU,CACRtB,KAAM,GACNC,YAAa,6EAEfsB,SAAU,CACRvB,KAAM,GACNC,YAAa,6EAEfuB,SAAU,CACRxB,KAAM,GACNC,YAAa,iDAEfwB,SAAU,CACRzB,KAAM,GACNC,YAAa,0DAEfyB,SAAU,CACR1B,KAAM,GACNC,YACE,+HAEJ0B,SAAU,CACR3B,KAAM,GACNC,YAAa,+DAEf2B,SAAU,CACR5B,KAAM,GACNC,YAAa,mEAEf4B,SAAU,CACR7B,KAAM,GACNC,YAAa,iDAEf6B,SAAU,CACR9B,KAAM,GACNC,YAAa,iDAEf8B,SAAU,CACR/B,KAAM,GACNC,YAAa,mEAEf+B,SAAU,CACRhC,KAAM,GACNC,YAAa,6CAEfgC,SAAU,CACRjC,KAAM,GACNC,YAAa,6DAEfiC,UAAW,CACTlC,KAAM,IACNC,YAAa,0EAEfkC,UAAW,CACTnC,KAAM,IACNC,YAAa,oBCjJjB,IAAKmC,GAAL,SAAKA,GACHA,oBACAA,8CACAA,0CACAA,8CACAA,wCACAA,sDACAA,wBACAA,0BACAA,4BACAA,gCACAA,gCACAA,oCACAA,kBACAA,4BACAA,sBACAA,4BACAA,gCACAA,gDACAA,4BACAA,4BACAA,0CArBF,CAAKA,IAAAA,OCAL,MAAMC,UAAiBC,MAGrBC,YAAYC,EAAiBxC,GAC3ByC,MAAMD,GACNE,KAAK1C,KAAOA,GCWhB,SAAS2C,EAAKC,GACZ,OAAIA,EAAI,EAAUC,IACdD,GAAK,GAAW,EAAKE,KAAKC,UAAY,GAAKH,GAC3CA,GAAK,IACC,EAAKE,KAAKC,UAAY,GAAK,MAAS,EAAKD,KAAKC,UAAY,GAAMH,EAAI,MAAU,GAAK,IACtFC,IAET,SAASG,EAAIC,EAAaC,GACxB,IAAIC,EAAMF,EAAIG,SAAS,IACrBC,EAAIH,EAASC,EAAID,OACjBI,EAAI,IACN,KAAOD,EAAI,EAAGA,KAAO,EAAGC,GAAKA,EAAW,EAAJD,IAAOF,EAAMG,EAAIH,GACrD,OAAOA,EC5BT,MAAMI,EAAcJ,GACXA,EAAIC,WAAW,GAAGI,cAAgBL,EAAIC,WAAWK,MAAM,GCEhE,SAASC,EAAoCC,GAC3C,MAAO,CACLA,KAAAA,GCDJ,MAAMC,EAAkBF,EAA2C,mBAC7DG,EAAmBH,EAA2C,oBAC9DI,EAAaJ,EAAoB,cACjCK,EAAeL,EAAoB,uHCJzC,MAAMM,EACY,IADZA,EAE0B,IAG1BC,EAAmB,IAAIC,IAC7B,IAAIC,EAEJ,MAAMC,EAAuBC,GACpBJ,EAAiBK,IAAID,GAGxBE,EAAsB,CAACF,EAAcG,KACzCP,EAAiBQ,IAAIJ,EAAMG,IAOvBE,EAAU,IACPP,ECNT,SAASQ,EAAkBC,GACzB,GAAeC,OAAOC,OAAO1C,GAAqB2C,SAASH,EAAcI,OAAQ,CAC/E,MAAMC,EAAaC,EAAiBZ,IAAIM,EAAcO,cACtD,GAAIF,EAC0B,YAAxBL,EAAcI,MAChBJ,EAAcQ,QAAWC,GACvBJ,EAAWK,OACT,MACEJ,EAAiBK,OAAOF,EAAGF,cAC3BK,OAAOC,aAAaR,EAAWS,QAC/B,MAAMC,EAAQ7F,EAAU,SAAWuF,EAAGO,QAAQ5F,MAC9C,OAAO,IAAIqC,EAASsD,EAAM1F,YAAa0F,EAAM3F,OAJ/C,IAOK6F,EAAmBjB,EAAcO,cAC1CP,EAAcQ,QAAUS,EAAmBjB,EAAcO,cAChDP,EAAcI,QAAUC,EAAWa,aAC5ClB,EAAcQ,QAAWC,IACvB,MAAMU,EAAmBC,EAAeX,EAAIJ,GAE5C,GADAc,EAAiBE,KAAOC,EACI,kBAAxBtB,EAAcI,MAA2B,CAC3C,MAAMR,EAAeJ,EAAoB2B,EAAiBvD,QAAQgC,cAClEA,MAAAA,GAAAA,EAAc2B,cAAcJ,GAE9Bd,EAAWmB,QAAQL,UAIvB,OAAQnB,EAAcI,OACpB,IAAK,gBACHJ,EAAcQ,QAAWC,IACvB,MAAMU,EAAiCM,EAAchB,GACrDU,EAAiBE,KAAOC,EACxB,MAAM1B,EAAeJ,EAAoB2B,EAAiBvD,QAAQgC,cAClEA,MAAAA,GAAAA,EAAc8B,eAAeP,IAE/B,MACF,IAAK,qBACHnB,EAAcQ,QAAWC,IACvB,MAAMU,EAAiCM,EAAchB,GACrDU,EAAiBE,KAAOM,EACxB,MAAM/B,EAAeJ,EAAoB2B,EAAiBvB,aAAaH,MACvEG,MAAAA,GAAAA,EAAcgC,oBAAoBT,IAEpC,MAEF,QACEnB,EAAcQ,QAAWC,GAChBgB,EAAchB,GAI7B,OAAOT,EAET,OAAO,EAGT,SAASoB,EACPS,EACAxB,GAEA,MAAMyB,EAAcC,MAAMC,QAAQH,GAAQA,EAAK,GAAGC,YAAcD,EAAKC,YAGrE,OAFAxB,EAAiBK,OAAOmB,GACxBlB,OAAOC,aAAaR,EAAWS,QACxBiB,MAAMC,QAAQH,GACjBA,EAAKI,KAAKjC,GAA6ByB,EAAczB,EAAeK,KACpEoB,EAAcI,EAAMxB,GAG1B,SAASoB,EACPzB,EACAK,aAE+C,8CAA3CL,EAAcgB,8BAASkB,OAAO,YAChClC,EAAgBA,EAAcgB,QAAQkB,QAExC,MAAMC,EAA2B,CAC/BC,UAAWpC,EAAcgB,QAAQoB,UACjCC,gBAAiBrC,EAAcgB,QAAQsB,kBACvCvD,KAA0BiB,EAAcjB,KACxC+C,YAAa9B,EAAcO,aAC3BgC,UAA8C,aAAnCvC,EAAcgB,8BAASuB,YAyB9BC,EAnBF,CACFC,4CAA6C,CAC3CC,OAAQ,OACRC,YAAaC,GAEfC,gDAAiD,CAC/CH,OAAQ,eACRC,YAAaC,GAEfE,2CAA4C,CAC1CJ,OAAQ,UACRC,YAAaC,GAEfG,iDAAkD,CAChDL,OAAQ,SACRC,YAAcvC,GAAqBA,EAAM4C,mBAIKhD,EAAcgB,8BAASkB,OAAO,UAChF,IAAIM,EAIG,CACL,MAAMzB,EAAQ7F,EAAqB,UACnC,OACYmF,MAAAA,SAAAA,EAAYK,OAAO,IAAIjD,EAASsD,EAAM1F,YAAa0F,EAAM3F,OASvE,OAfE+G,EAASK,EAAmBE,QAAUF,EAAmBG,YACvD3C,EAAcgB,QAAQkB,QASQ,iBAA9BM,EAAmBE,SACrBP,EAASvC,aAAaqD,QAAUjD,EAAcgB,QAAQkC,KAEtB,YAA9BV,EAAmBE,SAAsBP,EAASvE,QAAQsF,IAAMlD,EAAcgB,QAAQkC,KAEnFf,EAGT,SAASS,EAAiB5C,UACjBA,EAAc,gBACdA,EAAwB,SAG/B,MAAMgB,EAAsC,GAC5C,IAAK,MAAOmC,EAAKC,KAAUnD,OAAOoD,QAAQrD,GACxCgB,GCrJkBzC,EDqJG4E,ECpJhB5E,EACJ+E,MAAM,KACNC,QAAO,CAACC,EAAWC,EAAMC,IAAUF,GAAaE,EAAQ,EAAI/E,EAAW8E,GAAQA,ODkJnDL,ECrJZ,IAAC7E,EDwJpB,OAAkByC,EAKpB,MAAMV,EAAmB,IAAIhB,IACvB2B,EAAsE,GAE5E,SAAS0C,EACPC,GAEA,MAAMC,EAAuC,GACvCC,EEzJR,SACEC,EACAC,EAAO,KAEP,IAAIC,EAEJ,OAAO,YAAsCC,GAI3CrD,aAAaoD,GACbA,EAAgBE,YAJF,IACLJ,EAAGK,MAAMtG,KAAMoG,IAGUF,IF8IVK,EAAiB,WACzCT,EAAKC,KACJzE,GACH,OAAO,SAAUgB,GACfyD,EAAmBS,KAAKlE,GACxB0D,KAIJ,MAAMS,EAAgB,CACpBC,EACAxD,KAEA,MAAMyD,EAAiD,IAAInF,IAAI,CAC7D,CAACrE,EAAUyJ,SAAUlH,EAAmBmH,WACxC,CAAC1J,EAAU2J,iBAAkBpH,EAAmBqH,mBAChD,CAAC5J,EAAU6J,uBAAwBtH,EAAmBuH,0BACtD,CAAC9J,EAAU+J,iBAAkBxH,EAAmByH,sBAS5CC,EAAcT,EAAWU,IAAIX,GAC7B1C,EAAcsD,EAAYZ,EAAgBxD,GAEhD,OAAO,IAAIqE,SAAW,CAAC7D,EAASd,KAC9B,MAAMI,EAASF,OAAOuD,YAAW,IAAMzD,GAAQtB,GAVzB,IAACkG,EAcvB,MAAMC,EAA0B,CAAErE,WAF/BgE,EAAcT,EAAW/E,IAAI8E,GAAkB,KAAO7F,GAZlC2G,EAY6Dd,KAXrEvJ,EAAUuK,iBAChBvK,EAAUwK,iBACZH,GAWuCd,eAAAA,EAAgBhD,QAAAA,EAASd,OAAAA,EAAQI,OAAAA,GAC/ER,EAAiBT,IAAIiC,EAAayD,GAC9BL,IACFjE,EAAmBa,GAAe6B,GAAoBE,GACpDrC,EAEIJ,EACEyC,EACA0B,WASRH,EAAc,CAACZ,EAA2BxD,KAC9C,MAAM0E,EAAwB,CAC5B,YACA,cACA,gBACA,SACA,aACAvF,SAASqE,GACP,kBACA,oBAeEjE,aL9OFK,OAAO+E,6BAAQC,YAAmBhF,OAAO+E,OAAOC,aAElDxH,EAAIL,EAAK,IAAK,GACd,IACAK,EAAIL,EAAK,IAAK,GACd,IACAK,EAAI,MAASL,EAAK,IAAK,GACvB,IACAK,EAAI,MAASL,EAAK,IAAK,GACvB,IACAK,EAAIL,EAAK,IAAK,IAblB,MKmPE,MAAM8H,EAAyB,CAC7BC,QAAS,OACT/G,KAAMyF,EACNpE,MAAOoE,EACPxD,QAASf,OAAO8F,OAAO/E,EAAS,CAC9BgF,QAAS,kBAAkBN,KApBc,CAC3CO,UAAW,kBACXC,OAAQ,gBACRC,cAAe,gBACfC,UAAW,mBACXC,YAAa,mBACbC,gBAAiB,qBACjBC,iBAAkB,qBAClBC,mBAAoB,sBACpB1B,uBAAwB,mBACxBE,iBAAkB,qBAWDR,IAAmB7F,EAAW6F,OAG/CjE,aAAAA,GAIF,OADAT,IAAU2G,KAAKZ,EAAa,CAAEa,MAAM,IAC7BnG,GG5PT,MAAMoG,EASJhJ,YAAYyC,GACVtC,KAAK2B,KAAOW,EAAMxC,QAAQ6B,KAC1B3B,KAAK8B,aAAeQ,EAAMxC,QAAQgC,aAClC9B,KAAK8I,KAAOxG,EAAMxC,QAAQgJ,KAC1B9I,KAAKkD,QAAWZ,EAAMxC,QAAQoD,QAC9BlD,KAAK+I,OAASzG,EAAMgC,UACpBtE,KAAKyE,UAAYnC,EAAMmC,UAAYnC,EAAMmC,UAAY,EACrDzE,KAAKoF,IAAM9C,EAAMxC,QAAQsF,IAGpBvF,WAAWiJ,EAAc5F,GAC9B,MAAM8F,QAAwBvC,EAA4BtJ,EAAU8L,YAAa,CAC/EtH,KAAM3B,KAAK2B,KACXG,aAAc9B,KAAK8B,aACnBgH,KAAAA,EACA5F,QAAAA,IAIF,OAFAlD,KAAKkJ,QAAQF,GAENzB,QAAQ7D,QAAQ1D,MAGlBH,eAKL,aAJM4G,EAA4BtJ,EAAUgM,cAAe,CACzDxH,KAAM3B,KAAK2B,KACXG,aAAc9B,KAAK8B,eAEdyF,QAAQ7D,UAGT7D,QAAQyC,GACdtC,KAAK2B,KAAOW,EAAMxC,QAAQ6B,KAC1B3B,KAAK8I,KAAOxG,EAAMxC,QAAQgJ,KAC1B9I,KAAKkD,QAAWZ,EAAMxC,QAAQoD,QAC9BlD,KAAKyE,UAAYnC,EAAMmC,UAAYnC,EAAMmC,UAAY,EACrDzE,KAAKoF,IAAM9C,EAAMxC,QAAQsF,KC3B7B,MAAMgE,EAAe,SAAUC,GAO7B,MAAMC,EAAgD,GAEhDC,EAAsB,SAAUjH,GACpC,OAAI+G,GACKlH,OAAOC,OAAOiH,GAAeG,MAAMC,GAAQA,IAAQnH,KA8BxDoH,EAAsB,SAC1BpH,EACAqH,GAEKJ,EAAoBjH,IAGpBgH,EAAUhH,EAAMrB,QACrBqI,EAAUhH,EAAMrB,MAAQqI,EAAUhH,EAAMrB,MAAM2I,QAAQC,GAAOA,EAAGF,WAAaA,MAc/E,MAAO,CAAEG,iBA3CsC,SAC7CxH,EACAqH,EACAI,GAPmB,IAAUC,EASxBT,EAAoBjH,KATI0H,EAYhB1H,EAAMrB,KAXdqI,EAAUU,KAAeV,EAAUU,GAAgB,IAYpDD,GAAWA,EAAQE,SACrBF,EAAQE,OAAOC,QAAU,WACvBR,EAAoBpH,EAAOqH,KAG/BL,EAAUhH,EAAMrB,MAAMuF,KAAK,CACzB2D,KAAOJ,GAAWA,EAAQI,OAAS,EACnCC,WAAW,EACXT,SAAAA,MA0BuBD,oBAAAA,EAAqBjG,cAX1B,SAAUnB,GAC9B,MAAM+H,EAAY/H,EAAMiB,KAAKtC,KACxBqI,EAAUe,IACff,EAAUe,GAAWC,SAASC,IACvBA,EAAcJ,MAASI,EAAcH,WACxCG,EAAcZ,SAASrH,GAEzBiI,EAAcH,WAAY,QC7DhC,MAAMI,UDoEN,MAIE3K,cACE,MAAM4K,EAASrB,IACfpJ,KAAK8J,iBAAmBW,EAAOX,iBAC/B9J,KAAK0J,oBAAsBe,EAAOf,oBAClC1J,KAAKyD,cAAgBgH,EAAOhH,gBChE9B5D,YAAY6K,GACV3K,QAZKC,gBAAsC,GACtCA,aAAS,EACTA,kBAA0C,GAC1CA,uBAAmB,EACnBA,WAAQ,GACRA,uBAAmB,EACnBA,UAAO,GACPA,eAAY,EACZA,aAAU,EACVA,gBAAa,EAIlBA,KAAKkJ,QAAQwB,GAGR7K,QAAQ6K,GACb1K,KAAK2K,WAAaD,EAAOC,WACzB3K,KAAK4K,OAASF,EAAOE,OACrB5K,KAAK6K,aAAeH,EAAOG,aAC3B7K,KAAK8K,iBAAmBJ,EAAOI,iBAC/B9K,KAAK+K,MAAQL,EAAOK,MACpB/K,KAAKgL,iBAAmBN,EAAOM,iBAC/BhL,KAAK2B,KAAO+I,EAAO/I,KACnB3B,KAAKiL,UAAYP,EAAOO,UACxBjL,KAAKmF,QAAUuF,EAAOvF,QACtBnF,KAAKkL,WAAaR,EAAOQ,WAGpBrL,sBACL,MAAO,CACLgL,aAAc7K,KAAKmL,uBAAuBnL,KAAK6K,cAAc1G,KAAKiH,GAChEjJ,OAAO8F,OAAOmD,EAAG,CAAEC,MAAOD,EAAEC,MAAQD,EAAEC,MAAQ,MAEhDN,MAAO/K,KAAK+K,MACZH,OAAQ5K,KAAK4K,OACbU,mBAAoBtL,KAAK8K,iBACzBS,kBAAmBvL,KAAKgL,iBACxBQ,YAAaxL,KAAK2K,YAIf9K,eAAeyC,GACpBtC,KAAKyD,cAAc,CACjBF,KAAMrC,EACNuK,OAAQzL,KACR0L,UAAWC,KAAKC,MAChB9L,QAAS,IAAI+I,EAAQvG,KAIlBzC,oBAAoByC,GACzB,GAA8B,qBAA1BA,EAAMiC,gBAAwC,CAChD,MAAMsH,EAAiB7L,KAAK6K,aAAa1G,KAAK2H,GAAcA,EAAKC,UAC3DC,EAAkB1J,EAAMR,aAAa+I,aAAajB,QAAQkC,IAC7DD,EAAexJ,SAASyJ,EAAKC,WAEhC/L,KAAK6K,aAAe,IAAI7K,KAAK6K,gBAAiBmB,GAE9ChM,KAAKyD,cAAc,CACjBF,KAAMnC,EACNqK,OAAQzL,KACR0L,UAAWC,KAAKC,MAChBK,QAASD,EAAgB7H,KAAK2H,GAAcA,EAAKC,iBAGnD/L,KAAKyD,cAAc,CACjBF,KAAMpC,EACNsK,OAAQzL,KACR0L,UAAWC,KAAKC,QAKd/L,uBACNgL,GAEA,OAAOA,EAAa1G,KAAKiH,KACvBW,QAASX,EAAEc,OACXb,MAAOrL,KAAKmM,oBAAoBf,GAChCgB,UAAWhB,EAAEiB,aAITxM,oBAAoBiM,GAC1B,MAAMQ,GACHR,EAAKS,QAAU,aAAe,IAC/B,CACET,EAAKU,aACLV,EAAKW,WACLX,EAAKY,sBACLZ,EAAKa,UACLb,EAAKc,QACLd,EAAKe,UAEJ1I,KAAK2I,GAAUA,EAAO,EAAI,IAC1BC,KAAK,IAEV,OAAOC,SAASV,EAAa,GAGxBzM,iBAAiBoN,EAAkBC,GACxC,MAAuB,iBAAZD,GAAwC,iBAATC,EACjC3F,QAAQ3E,OACb,IAAIjD,EAASvC,EAAmB,QAAEG,YAAaH,EAAmB,QAAEE,OAEjEmJ,EAActJ,EAAU+J,iBAAkB,CAC/CpF,aAAc9B,KAAK2B,KACnBwL,UAAWF,EACXC,MAAAA,IAIGrN,kBAAkBiJ,EAAc5F,GACrC,GACkB,iBAAT4F,UAEc,IAAZ5F,GACNe,MAAMC,QAAQhB,IAGbA,EAAQkK,OAAOvD,GAAOA,GAAoB,iBAAPA,KAGvC,OAAOtC,QAAQ3E,OACb,IAAIjD,EAASvC,EAAmB,QAAEG,YAAaH,EAAmB,QAAEE,OAGxE,MAAM+G,QAAiBoC,EAA4BtJ,EAAUkQ,YAAa,CACxEvE,KAAAA,EACAhH,aAAc9B,KAAK2B,KACnBuB,QAAAA,IAGF,OAAO,IAAI2F,EAAQxE,ICxIvB,SAASiJ,IACP,MCnBsB,CAACC,IACvB,IAA+B,IAA3BA,EAASC,QAAQ,KACnB,OAAOD,EACF,CACL,MAAME,EAA2BF,EAAS/H,MAAM,KAEhD,OADAiI,EAAU,GAAKA,EAAU,GAAGjI,MAAM,KAAKkI,OAAO,EAAG,GAAGX,KAAK,KAClDU,EAAUV,KAAK,ODajBY,CAAgB3L,IAAUuL,YASnC,SAASK,EAAQC,GACf,OAAOpH,EAAyBtJ,EAAUyQ,QAAS,CACjDC,UAAAA,IA2CJ,SAASC,EAAuBC,GAC9B,IAAIC,EAAsBtM,EAAoBqM,EAAkBjM,aAAaH,MAO7E,OANIqM,EACFA,EAAoB9E,QAAQ6E,EAAkBjM,eAE9CkM,EAAsB,IAAIxD,EAAauD,EAAkBjM,cACzDD,EAAoBkM,EAAkBjM,aAAaH,KAAMqM,IAEpDA,QAsEHC,EAAY,CAChBX,MAAAA,EACAY,QA3IF,WACE,OAAON,EAAQN,KAASa,MAAMC,GAAMA,EAAEtC,KAAKI,UA2I3CmC,YApIF,SAAqBtC,GACnB,OAAOtF,EAAyBtJ,EAAUyQ,QAAS,CACjD7B,QAAAA,KAmIFuC,aAlGF,SAAsBC,GACpB,IAAKtK,MAAMC,QAAQqK,GACjB,OAAOhH,QAAQ3E,OAAO,IAAIjD,EAASvC,EAAUC,QAAQE,YAAaH,EAAUC,QAAQC,OAEtF,MAAM4F,EAAUqL,EAAQpK,KAAK4H,IACpB,CAAEA,QAAAA,MAEX,OAAOtF,EAA2BtJ,EAAUyJ,SAAU,CAAE4H,MAAOtL,KA4F/D0K,QAAAA,EACAhH,SA9GF,SAAkB4H,GAChB,IAAKvK,MAAMC,QAAQsK,GACjB,OAAOjH,QAAQ3E,OAAO,IAAIjD,EAASvC,EAAUC,QAAQE,YAAaH,EAAUC,QAAQC,OAEtF,MAAM4F,EAAUsL,EAAMrK,KAAK0J,IAClB,CAAEA,UAAAA,MAEX,OAAOpH,EAA2BtJ,EAAUyJ,SAAU,CAAE4H,MAAOtL,KAwG/DuL,SA5HF,SACE9D,EACA+D,GAEA,MAAM5C,EAGF,GAGJ,OAFInB,IAAYmB,EAAKN,YAAcb,GAC/B+D,IAAmB5C,EAAK6C,oBAAsBD,GAC3CjI,EAAyBtJ,EAAUsR,SAAU3C,IAmHpD3D,UA5FF,SAAmBjD,GACjB,OAAOuB,EAA8BtJ,EAAUgL,UAAW,CAAEjD,OAAAA,KA4F5D0J,mBA5EFC,eAAkCC,GAChC,MAAMC,EAAkB,IAAIvE,EAAasE,GACnCf,QAA0BtH,EAC9BtJ,EAAUyR,mBACVG,EAAgBC,uBAIlB,OAFAnN,EAAoBkM,EAAkBjM,aAAaH,KAAMoN,GACzDA,EAAgB7F,QAAQ6E,EAAkBjM,cACnCyF,QAAQ7D,QAAQqL,IAqEvBE,gBAlEFJ,eAA+BlN,GAC7B,MAAMoM,QAA0BtH,EAAiCtJ,EAAU8R,gBAAiB,CAC1FtN,KAAAA,IAEF,OAAO4F,QAAQ7D,QAAQoK,EAAuBC,KA+D9CrG,iBA5DFmH,eAAgClN,GAC9B,MAAMoM,QAA0BtH,EAAiCtJ,EAAUuK,iBAAkB,CAC3F/F,KAAAA,IAEF,OAAO4F,QAAQ7D,QAAQoK,EAAuBC,KAyD9CjH,iBAtDF+H,eAAgCK,GAC9B,GAAIjL,MAAMC,QAAQgL,IAAkBA,EAAc1O,OAAS,GACzD,OAAO+G,QAAQ3E,OACb,IAAIjD,EAASvC,EAAqB,UAAEG,YAAaH,EAAqB,UAAEE,OAI5E,MAGM6R,SAH2B1I,EAAmCtJ,EAAU2J,iBAAkB,CAC9FnF,KAAMuN,KAEoC/K,KAAK7B,GAC/CwL,EAAuBxL,KAEzB,OAAOiF,QAAQ7D,QAAQyL,IA0CvBnI,uBAvCF6H,iBACE,MAIMO,SAJ2B3I,EAC/BtJ,EAAU6J,uBACV,KAE6C7C,KAAK7B,GAClDwL,EAAuBxL,KAEzB,OAAOiF,QAAQ7D,QAAQ0L,KE/HnBC,EAA4B,CAChCC,MAAO,EACPC,MAAO,EACPC,IAAK,GAGP,IAAI/N,EAGJ,MAAMgO,EAAQ,SAAUC,GACtBjO,EAAgBiO,ETGF,CAACA,IACfjO,EAAgBiO,GSHhBC,CAAQD,GACRjO,EAAcmO,eAAe3N,sDAIP,WACtB,MAAO,CACL4N,aAAc,GACd5O,KAdS,YAeTwO,MAAAA,EACAJ,QAAAA"}